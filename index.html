<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>요기요_롯데GRS 마케팅 통합 성과 리포트</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.26.0/plotly.min.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Noto Sans KR", sans-serif;
        line-height: 1.8;
        color: #2c3e50;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 20px;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        border-radius: 20px;
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        color: white;
        padding: 60px 40px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 70%
        );
        animation: pulse 15s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      .header h1 {
        font-size: 2.5em;
        font-weight: 700;
        margin-bottom: 15px;
        position: relative;
        z-index: 1;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .header .header-info {
        font-size: 1.1em;
        opacity: 0.95;
        position: relative;
        z-index: 1;
        margin-top: 10px;
      }

      .header .header-info p {
        margin: 5px 0;
      }

      .content {
        padding: 40px;
      }

      .executive-summary {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 40px;
        border-radius: 12px;
        margin-bottom: 50px;
        box-shadow: 0 6px 20px rgba(245, 87, 108, 0.3);
      }

      .executive-summary h2 {
        font-size: 1.8em;
        margin-bottom: 25px;
        font-weight: 600;
      }

      .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 25px;
      }

      .summary-card {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        padding: 25px;
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .summary-card h3 {
        font-size: 1.1em;
        margin-bottom: 12px;
        font-weight: 600;
      }

      .summary-card p {
        font-size: 0.95em;
        line-height: 1.7;
      }

      .toc {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 40px;
        border-left: 5px solid #e74c3c;
      }

      .toc h2 {
        color: #e74c3c;
        margin-bottom: 20px;
        font-size: 1.8em;
        padding-bottom: 0;
        border-bottom: none;
        margin-top: 0;
      }

      .toc ol {
        list-style: decimal;
        margin-left: 25px;
      }

      .toc ol li {
        padding: 10px 0;
        border-bottom: 1px solid #e9ecef;
      }

      .toc ol li:last-child {
        border-bottom: none;
      }

      .toc ol a {
        color: #495057;
        text-decoration: none;
        transition: all 0.3s;
        padding: 5px 10px;
        border-radius: 8px;
        display: inline-block;
      }

      .toc ol a:hover {
        background: #e74c3c;
        color: white;
        transform: translateX(10px);
      }

      .section {
        margin-bottom: 60px;
        scroll-margin-top: 20px;
      }

      .section h2 {
        color: #2c3e50;
        font-size: 1.8em;
        margin-bottom: 30px;
        padding-bottom: 15px;
        border-bottom: 3px solid #667eea;
        font-weight: 600;
      }

      .section h3 {
        color: #764ba2;
        font-size: 1.3em;
        margin: 30px 0 20px;
        font-weight: 600;
      }

      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 25px;
        margin: 30px 0;
      }

      .metric-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        transition: transform 0.3s;
      }

      .metric-card:hover {
        transform: translateY(-5px);
      }

      .metric-label {
        font-size: 0.9em;
        opacity: 0.9;
        margin-bottom: 10px;
      }

      .metric-value {
        font-size: 2.2em;
        font-weight: 700;
        margin-bottom: 5px;
      }

      .metric-subtitle {
        font-size: 0.85em;
        opacity: 0.8;
      }

      .insight-box {
        background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
        border-left: 5px solid #00acc1;
        padding: 30px;
        margin: 30px 0;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 172, 193, 0.15);
      }

      .insight-box h4 {
        color: #00838f;
        font-size: 1.1em;
        margin-bottom: 12px;
        font-weight: 600;
      }

      .insight-box p {
        color: #006064;
        margin-bottom: 12px;
        line-height: 1.8;
      }

      .strategy-box {
        background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
        border-left: 5px solid #ff6f00;
        padding: 30px;
        margin: 30px 0;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(255, 111, 0, 0.15);
      }

      .strategy-box h3 {
        color: #e65100;
        font-size: 1.3em;
        margin-bottom: 20px;
        font-weight: 600;
      }

      .strategy-box ul {
        list-style: none;
        padding-left: 0;
      }

      .strategy-box li {
        padding-left: 30px;
        position: relative;
        margin-bottom: 15px;
        color: #bf360c;
        line-height: 1.8;
      }

      .strategy-box li::before {
        content: "▸";
        position: absolute;
        left: 10px;
        color: #ff6f00;
        font-weight: 700;
      }

      .chart-container {
        margin: 30px 0;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        min-height: 400px;
      }

      .chart-container > div {
        min-height: 400px;
        width: 100%;
        display: block;
      }

      .plotly-graph-div,
      .plotly .svg-container,
      .plotly .main-svg {
        width: 100% !important;
        min-height: 400px !important;
      }

      table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        margin: 30px 0;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      }

      thead {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      th {
        padding: 18px 15px;
        text-align: center;
        font-weight: 600;
        font-size: 0.95em;
      }

      td {
        padding: 15px;
        text-align: center;
        border-bottom: 1px solid #e0e0e0;
        font-size: 0.9em;
      }

      tbody tr {
        background: white;
        transition: background 0.3s;
      }

      tbody tr:hover {
        background: #f5f5f5;
      }

      .footer {
        text-align: center;
        margin-top: 50px;
        padding-top: 30px;
        border-top: 2px solid #e9ecef;
        color: #7f8c8d;
      }

      .footer p {
        margin: 5px 0;
      }

      @media (max-width: 768px) {
        .header {
          padding: 40px 30px;
        }

        .header h1 {
          font-size: 1.8em;
        }

        .content {
          padding: 20px;
        }

        .metrics-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>🍔 요기요_롯데GRS 마케팅 통합 성과 리포트</h1>
        <div class="header-info">
          <p><strong>분석 기간:</strong> 2025년 캠페인 기준 (1·2차 통합)</p>
          <p>
            <strong>총 발송:</strong> 82,470건 | <strong>총 클릭:</strong> 754건
            | <strong>평균 CTR:</strong> 0.91%
          </p>
        </div>
      </div>

      <!-- Content -->
      <div class="content">
        <div class="toc">
          <h2>📋 목차</h2>
          <ol>
            <li><a href="#executive-summary">Executive Summary</a></li>
            <li><a href="#summary">전체 캠페인 성과 요약</a></li>
            <li><a href="#campaign_comp">캠페인별 성과 비교</a></li>
            <li><a href="#residence">거주지 유형별 성과 분석</a></li>
            <li><a href="#link_btn">시/도별 CTR 성과 분석</a></li>
            <li><a href="#gender_age">성별-연령별 성과 분석</a></li>
            <li><a href="#interest">연령별 스테이지 분석</a></li>
            <li><a href="#food_app">푸드/앱 사용자 심층 분석</a></li>
            <li><a href="#seg_detail">고객 세그먼트 세부분석</a></li>
            <li><a href="#app_web">사용앱 카테고리별 성과 분석</a></li>
            <li><a href="#strategy">핵심 전략 제언</a></li>
          </ol>
        </div>

        <div class="section" id="executive-summary">
          <h2>📊 요약 (Executive Summary)</h2>
          <div class="executive-summary">
            <h2 style="font-size: 1.8em; margin-bottom: 25px; font-weight: 600">
              📝 Executive Summary
            </h2>
            <div class="summary-grid">
              <div class="summary-card">
                <h3>💡 What (핵심 성과)</h3>
                <p>
                  총 발송 82,470건, 클릭 754건, 평균 CTR 0.91% 달성. '2차
                  캠페인'이 1차 대비 15% 높은 CTR(0.98%)을 기록하며 우수한
                  성과를 입증했습니다.
                </p>
              </div>
              <div class="summary-card">
                <h3>🔍 Why (주요 원인)</h3>
                <p>
                  35-39세 여성 세그먼트(CTR 2.37%)와 세종 지역(CTR 1.97%)이
                  압도적 반응률을 보였으며, 유치원생 부모 그룹(CTR 1.77%)이 핵심
                  고반응 세그먼트로 확인되었습니다.
                </p>
              </div>
              <div class="summary-card">
                <h3>🚀 So What (전략 방향)</h3>
                <p>
                  30대 여성 및 유아 부모를 골드 타겟으로 설정한 초세분화 전략
                  실행 필요. 버거킹 앱 사용자 대상 크로스 타겟팅으로 경쟁 우위
                  확보를 권장합니다.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="section" id="summary">
          <h2>1️⃣ 전체 캠페인 성과 요약</h2>

          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-label">총 발송 수</div>
              <div class="metric-value">82,470</div>
              <div class="metric-subtitle">건</div>
            </div>
            <div class="metric-card">
              <div class="metric-label">총 클릭 수</div>
              <div class="metric-value">754</div>
              <div class="metric-subtitle">건</div>
            </div>
            <div class="metric-card">
              <div class="metric-label">평균 CTR</div>
              <div class="metric-value">0.91%</div>
              <div class="metric-subtitle">성과 기준선</div>
            </div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              전체 캠페인에서 82,470건 발송 대비 754건 클릭이 발생하여 0.91%의
              평균 CTR을 기록했습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              캠페인 평균 CTR은 전반적인 마케팅 효율성을 나타내며, 이 수치는
              후속 분석을 위한 성과 기준선(Benchmark)이 됩니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              향후 캠페인에서는 0.91%를 상회하는 CTR을 목표로, 성과가 높은
              타겟팅 및 콘텐츠 전략을 발굴하는 데 집중해야 합니다.
            </p>
          </div>
        </div>

        <div class="section" id="campaign_comp">
          <h2>2️⃣ 캠페인별 성과 비교</h2>

          <div class="chart-container">
            <div id="campaign_chart"></div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              '요기요_롯데GRS_1020_2차_RM4만_Y34|700' 캠페인이 CTR 0.98%로 다른
              캠페인 대비 1.15배 높은 성과를 기록했습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              2차 캠페인이 1차 캠페인(CTR 0.85%) 대비 클릭 수(404 vs 350)와 CTR
              모두 우세했습니다. 이는 2차 캠페인의 타겟 세그먼트, 메시지 또는
              발송 시점이 고객 반응을 더 잘 유도했음을 시사합니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              고성과를 보인 2차 캠페인의 성공 요인(타겟팅 로직, 콘텐츠 차별점)을
              심층 분석하여 향후 모든 캠페인의 표준 모델로 적용해야 합니다.
            </p>
          </div>
        </div>

        <div class="section" id="residence">
          <h2>3️⃣ 거주지 유형별 성과 분석</h2>

          <div class="chart-container">
            <div id="residence_chart"></div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              '기타' 유형 거주자 그룹이 CTR 1.20%로 평균 CTR(0.89%) 대비 월등히
              높은 반응률을 보였습니다. 반면, '오피스텔' 유형은 0.44%로 가장
              낮았습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              '기타' 그룹의 높은 CTR은 해당 분류에 포함된 소규모 주거 형태의
              거주자가 롯데리아 배달/외식 서비스에 대한 수요나 반응도가 매우
              높음을 의미할 수 있습니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              '기타' 그룹에 대한 추가적인 지리적/인구통계학적 특성 분석을 통해
              이들의 잠재된 고관여 요인을 파악하고, 오피스텔 그룹에 대해서는
              타겟팅 제외 또는 메시지 차별화 전략을 고려해야 합니다.
            </p>
          </div>
        </div>

        <div class="section" id="link_btn">
          <h2>4️⃣ 시/도별 CTR 성과 분석</h2>

          <div class="chart-container">
            <div id="sido_chart"></div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              '세종' 지역이 CTR 1.97%로 압도적인 1위를 기록했습니다. 이는 전체
              평균 CTR(0.94%)의 2.1배에 달하는 수치입니다. 반면, '제주' 지역은
              0.33%로 최저 성과를 보였습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              세종시는 젊은 세대와 높은 스마트폰 사용률을 보일 수 있으며,
              상대적으로 지역 내 배달/외식 옵션의 밀도가 낮아 프로모션에 대한
              반응도가 높게 나타날 수 있습니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              세종, 대구 등 고성과 지역에 대해 물리적인 캠페인(매장 이벤트, 배달
              프로모션 강화)을 집중적으로 전개하고, 저성과 지역에 대해서는
              타겟팅 볼륨을 조정하거나 완전히 다른 혜택/접근 방식을 테스트해야
              합니다.
            </p>
          </div>
        </div>

        <div class="section" id="gender_age">
          <h2>5️⃣ 성별-연령별 성과 분석</h2>

          <div class="chart-container">
            <div id="gender_age_chart"></div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              여성 35-39세 세그먼트가 CTR 2.37%로 가장 높은 반응률을 보였습니다.
              고성과 세그먼트는 여성 30대~40대 초반에 집중되는 경향을
              보였습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              30~40대 여성은 가정 내 외식/배달 결정권을 가지는 경우가 많으며,
              해당 연령대의 가족 구성원(어린 자녀 등)을 위한 메뉴 구매 니즈가
              높아 롯데리아의 패밀리 세트 또는 간편식 프로모션에 적극적으로
              반응했을 가능성이 높습니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              30~40대 여성 타겟에게 초점을 맞춘 가족 단위 프로모션(패밀리 세트
              할인, 자녀 선호 메뉴 강조) 및 주요 구매 시간대(저녁, 주말 점심)에
              메시지 발송을 집중하여 캠페인 효율을 극대화해야 합니다.
            </p>
          </div>
        </div>

        <div class="section" id="interest">
          <h2>6️⃣ 연령별 스테이지 분석</h2>

          <div class="chart-container">
            <div id="stage_chart"></div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              '유치원생부모' 그룹이 CTR 1.77%로 가장 높은 반응을 보였으며,
              '고등학생' 그룹은 0.47%로 최저 CTR을 기록했습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              유아/유치원생 부모는 간편한 외식 옵션을 선호하며, 고등학생 부모는
              자녀의 간식 또는 식사 대용 구매 니즈가 높습니다. 반면, 직접적인
              고등학생 타겟은 메시지 회피도가 높거나 다른 채널에 더 집중되어
              있을 수 있습니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              '유아/유치원생 부모' 세그먼트를 가장 핵심적인 타겟으로 정의하고,
              이들을 위한 어린이 메뉴 프로모션, 부모 할인 혜택 등을 개발해야
              합니다.
            </p>
          </div>
        </div>

        <div class="section" id="food_app">
          <h2>7️⃣ 푸드/앱 사용자 심층 분석</h2>

          <div class="chart-container">
            <div id="food_app_chart"></div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              푸드 카테고리 내 앱 사용자를 분석한 결과, 롯데리아 자사 앱
              사용자(CTR 1.26%)가 가장 높은 CTR을 보였으며, 경쟁사 중에서는
              버거킹 사용자(CTR 1.05%)가 높은 잠재력을 보였습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              경쟁사 앱 사용자의 높은 반응률은 해당 고객들이 할인/쿠폰 민감도가
              높은 버거 카테고리 충성 고객임을 의미합니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              '버거킹 사용자'를 대상으로 경쟁사 대비 차별화된 파격적인 쿠폰을
              제공하는 Cross-Targeting 캠페인을 즉시 실행하여 경쟁 우위를
              확보해야 합니다.
            </p>
          </div>
        </div>

        <div class="section" id="seg_detail">
          <h2>8️⃣ 고객 세그먼트 세부분석</h2>

          <div class="chart-container">
            <div id="segment_chart"></div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              여성 35-39세(CTR 2.37%)가 클릭 수와 CTR 모두에서 가장 높은 효율을
              보였으며, 그 뒤를 남성 35-39세(CTR 2.25%)가 이었습니다. Top 5에
              남성 30-34세(CTR 2.14%) 그룹이 포함되어 30대 전반의 반응성이 매우
              높음을 확인했습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              30대는 사회생활과 가정을 꾸리는 시기로, 외식/배달 서비스 의존도가
              높은 핵심 소비층입니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              30대 전반(남성/여성 모두)을 Gold Target으로 재정의하고, 이들에게
              최적화된 시간대별(점심/저녁/야식) 맞춤형 메뉴 추천 및 혜택
              메시지를 자동화하여 캠페인 효율의 상한선을 높여야 합니다.
            </p>
          </div>
        </div>

        <div class="section" id="app_web">
          <h2>9️⃣ 사용앱 카테고리별 성과 분석</h2>

          <div class="chart-container">
            <div id="app_cat_chart"></div>
          </div>

          <div class="insight-box">
            <h4>💡 What</h4>
            <p>
              'RealEstates' (3.85%), 'LifeStyle' (1.63%) 카테고리 사용자가 높은
              CTR을 기록했습니다.
            </p>

            <h4>🔍 Why</h4>
            <p>
              부동산 및 라이프스타일 앱 사용자는 구매력이 높은 특정
              연령/소득대일 가능성이 높으며, 이는 이들이 롯데리아의 '프리미엄'
              버거 또는 고가 메뉴에 더 잘 반응할 수 있음을 시사합니다.
            </p>

            <h4>🚀 So What</h4>
            <p>
              '고관여 라이프스타일 앱 사용자'를 포착하여 고단가 제품/세트 메뉴에
              대한 프로모션을 전개하고, 잠재적 고가치 고객(High-Value
              Customer)으로 전환시키는 전략을 수립해야 합니다.
            </p>
          </div>
        </div>

        <div class="section" id="strategy">
          <h2>🚀 핵심 전략 제언</h2>

          <div class="strategy-box">
            <h3>1. 골드 타겟팅 초세분화 전략</h3>
            <ul>
              <li>
                <strong>타겟팅 재정의:</strong> 30대 여성(특히 35-39세),
                유치원생/고등학생 부모, 그리고 세종/대구 등 고성과 지역을 핵심
                '골드 타겟'으로 설정합니다.
              </li>
              <li>
                <strong>실행 방안:</strong> 이들 세그먼트에게 패밀리 세트,
                어린이 메뉴 관련 할인 등 맞춤형 혜택을 고성과 캠페인 로직을
                활용하여 우선 발송합니다.
              </li>
            </ul>
          </div>

          <div class="strategy-box">
            <h3>2. 경쟁사 사용자 교차 타겟팅 강화</h3>
            <ul>
              <li>
                <strong>경쟁 우위 확보:</strong> 버거킹 앱 사용자(CTR 1.05%)에게
                경쟁사 대비 더 파격적인 혜택을 제공하는 특화 캠페인을
                실행합니다.
              </li>
              <li>
                <strong>실행 방안:</strong> 해당 고객들이 버거 카테고리에 대한
                충성도는 높으나 혜택 민감도가 높다는 점을 활용, 경쟁사 대비 낮은
                가격/높은 가치를 강조하여 브랜드 스위칭을 유도합니다.
              </li>
            </ul>
          </div>

          <div class="strategy-box">
            <h3>3. 거주지/라이프스타일 기반 메시지 최적화</h3>
            <ul>
              <li>
                <strong>거주지 최적화:</strong> '기타' 거주지 유형 및 고성과
                시/도(세종) 타겟에게는 지역 특화 배달 프로모션을, 저성과
                지역(제주)에는 매장 방문 유도형 쿠폰을 차별적으로 제공합니다.
              </li>
              <li>
                <strong>라이프스타일 연계:</strong> 'RealEstates' 및 'LifeStyle'
                앱 사용자에게는 고단가 프리미엄 버거 라인업과 딜리버리 서비스의
                편리성을 강조하는 메시지를 발송하여 구매 단가(AOV)를 높이는 데
                집중합니다.
              </li>
            </ul>
          </div>
        </div>

        <!-- Footer -->
        <div class="footer">
          <p><strong>작성:</strong> WaveNet</p>
          <p><strong>작성 일시:</strong> 2025년 11월</p>
          <p style="margin-top: 15px; font-size: 0.9em">
            본 리포트는 CSV 데이터 통합 분석을 통해 작성되었으며, 마케팅
            의사결정을 지원하기 위한 전략적 인사이트를 제공합니다.
          </p>
        </div>
      </div>
    </div>

    <script>
      // Wait for Plotly to load
      window.addEventListener("load", function () {
        initCharts();
      });

      function initCharts() {
        if (typeof Plotly === "undefined") {
          console.log("Waiting for Plotly to load...");
          setTimeout(initCharts, 100);
          return;
        }
        console.log("Plotly loaded, rendering charts...");
        renderAllPlots();
      }

      function renderAllPlots() {
        // 캠페인별 성과 비교 차트
        var campaignData = [
          {
            type: "bar",
            name: "발송 수",
            marker: { color: "#667eea" },
            opacity: 0.8,
            x: ["2차 캠페인", "1차 캠페인"],
            y: [41240, 41230],
            hovertemplate: "<b>%{x}</b><br>발송: %{y:,.0f}건<extra></extra>",
            yaxis: "y",
          },
          {
            type: "scatter",
            name: "CTR (%)",
            mode: "lines+markers",
            line: { color: "#f5576c", width: 3 },
            marker: { size: 10, symbol: "circle" },
            x: ["2차 캠페인", "1차 캠페인"],
            y: [0.98, 0.85],
            hovertemplate: "<b>%{x}</b><br>CTR: %{y:.2f}%<extra></extra>",
            yaxis: "y2",
          },
        ];

        var campaignLayout = {
          title: {
            text: "<b>캠페인별 발송 및 CTR 비교</b>",
            font: { size: 18 },
          },
          xaxis: { title: { text: "캠페인" } },
          yaxis: {
            title: { text: "발송 수", font: { color: "#667eea" } },
            side: "left",
          },
          yaxis2: {
            title: { text: "CTR (%)", font: { color: "#f5576c" } },
            side: "right",
            overlaying: "y",
            range: [0, 1.2],
          },
          plot_bgcolor: "#fafafa",
          font: { family: "Noto Sans KR, sans-serif" },
          legend: { orientation: "h", y: 1.15 },
          shapes: [
            {
              type: "line",
              xref: "paper",
              yref: "y2",
              x0: 0,
              y0: 0.91,
              x1: 1,
              y1: 0.91,
              line: { dash: "dash", color: "gray", width: 2 },
            },
          ],
          annotations: [
            {
              xref: "paper",
              yref: "y2",
              x: 1,
              y: 0.91,
              text: "평균 CTR: 0.91%",
              showarrow: false,
              font: { color: "gray" },
            },
          ],
        };

        Plotly.newPlot("campaign_chart", campaignData, campaignLayout, {
          responsive: true,
        });

        // 거주지 유형별 CTR 차트
        var residenceData = [
          {
            type: "bar",
            marker: {
              color: ["#667eea", "#764ba2", "#f093fb", "#f5576c", "#ff9a76"],
              line: { width: 1, color: "white" },
            },
            x: ["기타", "주택빌라원룸", "아파트", "알수없음", "오피스텔"],
            y: [1.2, 0.99, 0.94, 0.86, 0.44],
            text: ["1.20%", "0.99%", "0.94%", "0.86%", "0.44%"],
            textposition: "outside",
            hovertemplate: "거주지: %{x}<br>CTR: %{y:.2f}%<extra></extra>",
          },
        ];

        var residenceLayout = {
          title: { text: "<b>거주지 유형별 CTR 분석</b>", font: { size: 18 } },
          xaxis: { title: { text: "거주지 유형" } },
          yaxis: { title: { text: "CTR (%)" }, range: [0, 1.5] },
          plot_bgcolor: "#fafafa",
          font: { family: "Noto Sans KR, sans-serif" },
          shapes: [
            {
              type: "line",
              xref: "paper",
              yref: "y",
              x0: 0,
              y0: 0.89,
              x1: 1,
              y1: 0.89,
              line: { dash: "dash", color: "gray", width: 2 },
            },
          ],
        };

        Plotly.newPlot("residence_chart", residenceData, residenceLayout, {
          responsive: true,
        });

        // 시도별 CTR 차트
        var sidoData = [
          {
            type: "bar",
            x: [
              "세종",
              "대구",
              "경남",
              "광주",
              "경기",
              "강원",
              "충남",
              "전북",
              "경북",
              "서울",
              "충북",
              "제주",
            ],
            y: [
              1.97, 1.26, 1.14, 1.11, 0.93, 0.89, 0.85, 0.76, 0.76, 0.75, 0.58,
              0.33,
            ],
            text: [
              "1.97%",
              "1.26%",
              "1.14%",
              "1.11%",
              "0.93%",
              "0.89%",
              "0.85%",
              "0.76%",
              "0.76%",
              "0.75%",
              "0.58%",
              "0.33%",
            ],
            textposition: "outside",
            hovertemplate: "시/도: %{x}<br>CTR: %{y:.2f}%<extra></extra>",
            marker: {
              color: [
                1.97, 1.26, 1.14, 1.11, 0.93, 0.89, 0.85, 0.76, 0.76, 0.75,
                0.58, 0.33,
              ],
              colorscale: [
                [0, "#fff0e6"],
                [0.5, "#ff9a76"],
                [1, "#f5576c"],
              ],
              colorbar: { title: "CTR (%)" },
            },
          },
        ];

        var sidoLayout = {
          title: { text: "<b>시/도별 CTR 성과 분석</b>", font: { size: 18 } },
          xaxis: { title: { text: "시/도" } },
          yaxis: { title: { text: "CTR (%)" }, range: [0, 2.3] },
          plot_bgcolor: "#fafafa",
          font: { family: "Noto Sans KR, sans-serif" },
          shapes: [
            {
              type: "line",
              xref: "paper",
              yref: "y",
              x0: 0,
              y0: 0.94,
              x1: 1,
              y1: 0.94,
              line: { dash: "dash", color: "gray", width: 2 },
            },
          ],
        };

        Plotly.newPlot("sido_chart", sidoData, sidoLayout, {
          responsive: true,
        });

        // 성별-연령별 히트맵
        var genderAgeData = [
          {
            type: "heatmap",
            z: [
              [0.62, 0.77],
              [1.39, 0.83],
              [2.14, 1.82],
              [2.25, 2.37],
              [1.3, 1.45],
              [1.83, 1.8],
              [0, 0],
              [0, 0],
            ],
            x: ["남성", "여성"],
            y: [
              "20-24",
              "25-29",
              "30-34",
              "35-39",
              "40-44",
              "45-49",
              "50-54",
              "55-59",
            ],
            colorscale: "Viridis",
            colorbar: { title: "CTR (%)" },
            hovertemplate:
              "<b>성별: %{x}</b><br><b>연령: %{y}</b><br>CTR: %{z:.2f}%<extra></extra>",
          },
        ];

        var genderAgeLayout = {
          title: { text: "<b>성별-연령별 CTR 히트맵</b>", font: { size: 18 } },
          xaxis: { title: { text: "성별" } },
          yaxis: { title: { text: "연령대" } },
          plot_bgcolor: "#fafafa",
          font: { family: "Noto Sans KR, sans-serif" },
        };

        Plotly.newPlot("gender_age_chart", genderAgeData, genderAgeLayout, {
          responsive: true,
        });

        // 스테이지별 CTR 차트
        var stageData = [
          {
            type: "bar",
            x: ["유치원생부모", "고등학생부모", "유아부모", "고등학생"],
            y: [1.77, 1.53, 1.44, 0.47],
            text: ["1.77%", "1.53%", "1.44%", "0.47%"],
            textposition: "outside",
            hovertemplate: "스테이지: %{x}<br>CTR: %{y:.2f}%<extra></extra>",
            marker: { color: ["#667eea", "#764ba2", "#f093fb", "#f5576c"] },
          },
        ];

        var stageLayout = {
          title: {
            text: "<b>연령별 스테이지별 CTR 분석</b>",
            font: { size: 18 },
          },
          xaxis: { title: { text: "스테이지" } },
          yaxis: { title: { text: "CTR (%)" }, range: [0, 2.0] },
          plot_bgcolor: "#fafafa",
          font: { family: "Noto Sans KR, sans-serif" },
          shapes: [
            {
              type: "line",
              xref: "paper",
              yref: "y",
              x0: 0,
              y0: 1.3,
              x1: 1,
              y1: 1.3,
              line: { dash: "dash", color: "gray", width: 2 },
            },
          ],
        };

        Plotly.newPlot("stage_chart", stageData, stageLayout, {
          responsive: true,
        });

        // 푸드앱 사용자 차트
        var foodAppData = [
          {
            type: "pie",
            labels: ["롯데리아", "버거킹", "맥도날드", "배달의민족"],
            values: [635, 21438, 37736, 66609],
            name: "발송 볼륨",
            hovertemplate:
              "<b>%{label}</b><br>발송: %{value:,.0f}건<extra></extra>",
            marker: { colors: ["#667eea", "#764ba2", "#f093fb", "#f5576c"] },
            domain: { x: [0, 0.48] },
            textinfo: "label+percent",
            textposition: "inside",
          },
          {
            type: "bar",
            x: ["롯데리아", "버거킹", "맥도날드", "배달의민족"],
            y: [1.26, 1.05, 0.89, 0.93],
            name: "CTR",
            hovertemplate: "<b>%{x}</b><br>CTR: %{y:.2f}%<extra></extra>",
            marker: { color: ["#667eea", "#764ba2", "#f093fb", "#f5576c"] },
            xaxis: "x2",
            yaxis: "y2",
          },
        ];

        var foodAppLayout = {
          title: {
            text: "<b>푸드 앱 사용자 분석 (발송 볼륨 vs CTR)</b>",
            font: { size: 18 },
          },
          xaxis2: {
            title: { text: "앱" },
            domain: [0.52, 1],
            anchor: "y2",
          },
          yaxis2: {
            title: { text: "CTR (%)" },
            domain: [0, 1],
            anchor: "x2",
          },
          plot_bgcolor: "#fafafa",
          font: { family: "Noto Sans KR, sans-serif" },
          showlegend: false,
        };

        Plotly.newPlot("food_app_chart", foodAppData, foodAppLayout, {
          responsive: true,
        });

        // 세그먼트 상세 차트
        var segmentData = [
          {
            type: "bar",
            name: "클릭 수",
            marker: { color: "#667eea" },
            x: [
              "여성 35-39",
              "남성 35-39",
              "남성 30-34",
              "여성 45-49",
              "여성 30-34",
            ],
            y: [215, 230, 266, 150, 210],
            hovertemplate: "<b>%{x}</b><br>클릭: %{y:,.0f}건<extra></extra>",
            yaxis: "y",
          },
          {
            type: "scatter",
            name: "CTR (%)",
            mode: "lines+markers",
            line: { color: "#f5576c", width: 3 },
            marker: { size: 10 },
            x: [
              "여성 35-39",
              "남성 35-39",
              "남성 30-34",
              "여성 45-49",
              "여성 30-34",
            ],
            y: [2.37, 2.25, 2.14, 1.8, 1.82],
            hovertemplate: "<b>%{x}</b><br>CTR: %{y:.2f}%<extra></extra>",
            yaxis: "y2",
          },
        ];

        var segmentLayout = {
          title: {
            text: "<b>Top 5 고객 세그먼트 성과 상세</b>",
            font: { size: 18 },
          },
          xaxis: { title: { text: "세그먼트" } },
          yaxis: {
            title: { text: "클릭 수", font: { color: "#667eea" } },
            side: "left",
          },
          yaxis2: {
            title: { text: "CTR (%)", font: { color: "#f5576c" } },
            side: "right",
            overlaying: "y",
          },
          plot_bgcolor: "#fafafa",
          font: { family: "Noto Sans KR, sans-serif" },
          legend: { orientation: "h", y: 1.15 },
        };

        Plotly.newPlot("segment_chart", segmentData, segmentLayout, {
          responsive: true,
        });

        // 앱 카테고리별 CTR 차트
        var appCatData = [
          {
            type: "bar",
            x: [
              "RealEstates",
              "LifeStyle",
              "Travel",
              "Media",
              "Video",
              "Shopping",
              "Commerce",
              "Messenger",
              "Portal",
              "Finance",
            ],
            y: [3.85, 1.63, 1.48, 1.43, 1.25, 0.99, 0.95, 0.94, 0.94, 0.89],
            text: [
              "3.85%",
              "1.63%",
              "1.48%",
              "1.43%",
              "1.25%",
              "0.99%",
              "0.95%",
              "0.94%",
              "0.94%",
              "0.89%",
            ],
            textposition: "outside",
            hovertemplate: "카테고리: %{x}<br>CTR: %{y:.2f}%<extra></extra>",
            marker: {
              color: [
                3.85, 1.63, 1.48, 1.43, 1.25, 0.99, 0.95, 0.94, 0.94, 0.89,
              ],
              colorscale: [
                [0, "#e0f7fa"],
                [0.5, "#667eea"],
                [1, "#764ba2"],
              ],
              colorbar: { title: "CTR (%)" },
            },
          },
        ];

        var appCatLayout = {
          title: {
            text: "<b>사용앱 카테고리별 CTR 분석 (Top 10)</b>",
            font: { size: 18 },
          },
          xaxis: { title: { text: "앱 카테고리" } },
          yaxis: { title: { text: "CTR (%)" }, range: [0, 4.5] },
          plot_bgcolor: "#fafafa",
          font: { family: "Noto Sans KR, sans-serif" },
          shapes: [
            {
              type: "line",
              xref: "paper",
              yref: "y",
              x0: 0,
              y0: 1.44,
              x1: 1,
              y1: 1.44,
              line: { dash: "dash", color: "gray", width: 2 },
            },
          ],
        };

        Plotly.newPlot("app_cat_chart", appCatData, appCatLayout, {
          responsive: true,
        });
      }

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });
    </script>
  </body>
</html>
